!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/libs/",e(e.s=724)}({13:function(t,e,n){var r=n(62),o=n(83),i={},s=[],a=r.levels.TRACE;t.exports={addGlobalTransport:function(t){r.addGlobalTransport(t)},removeGlobalTransport:function(t){r.removeGlobalTransport(t)},getLogger:function(t,e,n){var o=new r(a,t,e,n);return t?(i[t]=i[t]||[],i[t].push(o)):s.push(o),o},setLogLevelById:function(t,e){for(var n=e?i[e]||[]:s,r=0;r<n.length;r++)n[r].setLevel(t)},setLogLevel:function(t){a=t;for(var e=0;e<s.length;e++)s[e].setLevel(t);for(var n in i){var r=i[n]||[];for(e=0;e<r.length;e++)r[e].setLevel(t)}},levels:r.levels,LogCollector:o}},131:function(t,e,n){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="search"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hash")?t.search:t.hash,o={};return n&&n.substr(1).split("&").forEach(function(t){var n=t.split("="),i=n[0];if(i){var s=void 0;try{s=n[1],e||(s=JSON.parse(decodeURIComponent(s).replace(/\\&/,"&")))}catch(t){return void Object(r.m)(t,"Failed to parse URL parameter value: "+String(s))}o[i]=s}}),o};var r=n(21)},21:function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){return JitsiMeetJS.util.ScriptUtil.loadScript(t,!0,!1,!1,e,n)})}function o(t){return c(t,h)}function i(t){return t[u(0,t.length-1)]}function s(){return i(d)}function a(t){return c(t,d)}function u(t,e){return Math.floor(Math.random()*(e-t+1))+t}function c(t,e){for(var n="",r=0;r<t;++r)n+=i(e);return n}var l=n(283),f=n(284),h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",d="0123456789abcdef",p=n(285);n.d(e,"e",function(){return l.b}),n.d(e,!1,function(){}),n.d(e,"c",function(){return l.a}),n.d(e,"m",function(){return l.c}),n.d(e,"d",function(){return f.a}),n.d(e,"g",function(){return r}),n.d(e,!1,function(){return o}),n.d(e,"j",function(){return i}),n.d(e,!1,function(){return s}),n.d(e,"k",function(){return a}),n.d(e,"l",function(){return u}),n.d(e,"a",function(){return p.a}),n.d(e,"b",function(){return p.b}),n.d(e,"f",function(){return p.c}),n.d(e,"h",function(){return p.d}),n.d(e,"i",function(){return p.e}),n.d(e,"n",function(){return p.f}),n.d(e,!1,function(){})},283:function(t,e,n){"use strict";(function(t){e.b=function(){return window.JitsiMeetJS||(window.JitsiMeetJS={}),window.JitsiMeetJS.app||(window.JitsiMeetJS.app={}),window.JitsiMeetJS.app},e.a=function(t,e){var n=Object(t);for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];void 0!==o&&(n[r]=o)}return n},e.c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r.error(e,t),window.onerror&&window.onerror(e,null,null,null,t)};var r=n(13).getLogger(t)}).call(e,"react/features/base/util/helpers.js")},284:function(t,e,n){"use strict";(function(t){e.a=function(t){return fetch(t).then(function(t){var e=t.json();return t.ok?e:e.then(function(t){return Promise.reject(t)})}).catch(function(e){return r.error("Error performing get:",t,e),Promise.reject(e)})};var r=n(13).getLogger(t)}).call(e,"react/features/base/util/httpUtils.js")},285:function(t,e,n){"use strict";(function(t){function r(t){var e=new RegExp("^"+p+"+","gi"),n=e.exec(t);if(n){var r=n[n.length-1].toLowerCase();"http:"!==r&&"https:"!==r&&(r="https:"),(t=t.substring(e.lastIndex)).startsWith("//")&&(t=r+t)}return t}function o(t){var e=t.pathname,n=e.lastIndexOf("/");return-1===n?"/":e.substring(0,n+1)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];for(var n in t)try{e.push(n+"="+encodeURIComponent(JSON.stringify(t[n])))}catch(t){c.warn("Error encoding "+n+": "+t)}return e}function s(t){var e={toString:a},n=void 0,r=void 0;if(t=t.replace(/\s/g,""),(r=(n=new RegExp("^"+p,"gi")).exec(t))&&(e.protocol=r[1].toLowerCase(),t=t.substring(n.lastIndex)),r=(n=new RegExp("^"+h,"gi")).exec(t)){var o=r[1].substring(2);t=t.substring(n.lastIndex);var i=o.indexOf("@");-1!==i&&(o=o.substring(i+1)),e.host=o;var s=o.lastIndexOf(":");-1!==s&&(e.port=o.substring(s+1),o=o.substring(0,s)),e.hostname=o}var u=void 0;if((r=(n=new RegExp("^"+d,"gi")).exec(t))&&(u=r[1],t=t.substring(n.lastIndex)),u?u.startsWith("/")||(u="/"+u):u="/",e.pathname=u,t.startsWith("?")){var c=t.indexOf("#",1);-1===c&&(c=t.length),e.search=t.substring(0,c),t=t.substring(c)}else e.search="";return e.hash=t.startsWith("#")?t:"",e}function a(t){var e=t||this,n=e.hash,r=e.host,o=e.pathname,i=e.protocol,s=e.search,a="";return i&&(a+=i),r&&(a+="//"+r),a+=o||"/",s&&(a+=s),n&&(a+=n),a}n.d(e,"a",function(){return l}),n.d(e,"b",function(){return p}),e.c=o,e.d=s,e.e=function(t){if("string"==typeof t){var e=s(function(t){var e=new RegExp("^"+p+"//hipchat\\.com/video/call/","gi"),n=e.exec(t);return n||(e=new RegExp("^"+p+"//enso\\.me/(?:call|meeting)/","gi"),n=e.exec(t)),n&&(t=n[1]+"//enso.hipchat.me/"+t.substring(e.lastIndex)),t}(r(t)));e.contextRoot=o(e);var n=e.pathname,i=n.lastIndexOf("/"),a=n.substring(i+1)||void 0;if(a){var u=function(t){return t?t.replace(new RegExp(f,"g"),""):t}(a);u!==a&&(a=u,e.pathname=n.substring(0,i+1)+(a||""))}return e.room=a,e}},e.f=function(t){var e=void 0;switch(void 0===t?"undefined":u(t)){case"object":t&&(e=t instanceof URL?t.href:function(t){var e=s(r(t.url||""));if(!e.protocol){var n=t.protocol||t.scheme;n&&(n.endsWith(":")||(n+=":"),e.protocol=n)}var o=e.pathname;if(!e.host){var a=t.domain||t.host||t.hostname;if(a){var u=s(r(l+"//"+a)),c=u.host,f=u.hostname,h=u.pathname,d=u.port;c&&(e.host=c,e.hostname=f,e.port=d),"/"===o&&"/"!==h&&(o=h)}}var p=t.roomName||t.room;!p||!e.pathname.endsWith("/")&&e.pathname.endsWith("/"+p)||(o.endsWith("/")||(o+="/"),o+=p),e.pathname=o;var g=t.jwt;if(g){var v=e.search;-1===v.indexOf("?jwt=")&&-1===v.indexOf("&jwt=")&&(v.startsWith("?")||(v="?"+v),1===v.length||(v+="&"),v+="jwt="+g,e.search=v)}for(var b=e.hash,m=["config","interfaceConfig"],w=0;w<m.length;w++){var y=m[w],x=i(t[y+"Overwrite"]||t[y]||t[y+"Override"]);if(x.length){var L=y+"."+x.join("&"+y+".");b.length?L="&"+L:b="#",b+=L}}return e.hash=b,e.toString()||void 0}(t));break;case"string":e=String(t)}return e};var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(13).getLogger(t),l="org.jitsi.meet:",f="[\\:\\?#\\[\\]@!$&'()*+,;=></\"]",h="(//[^/?#]+)",d="([^?#]*)",p="([a-z][a-z0-9\\.\\+-]*:)"}).call(e,"react/features/base/util/uri.js")},485:function(t,e,n){"use strict";e.a=function(){var t=config.getroomnode,e=window.location.pathname;return t&&"function"==typeof t?t.call(config,e):e.substring(e.lastIndexOf("/")+1).toLowerCase()||void 0}},62:function(t,e){function n(){var t=arguments[0],e=arguments[1],n=Array.prototype.slice.call(arguments,2);if(!(o[e]<t.level))for(var r=function(){var t={methodName:"",fileLocation:"",line:null,column:null},e=new Error,n=e.stack?e.stack.split("\n"):[];if(!n||n.length<1)return t;var r=null;return n[3]&&(r=n[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!r||r.length<=4?(0===n[2].indexOf("log@")?t.methodName=n[3].substr(0,n[3].indexOf("@")):t.methodName=n[2].substr(0,n[2].indexOf("@")),t):(t.methodName=r[1],t.fileLocation=r[2],t.line=r[3],t.column=r[4],t)}(),s=i.concat(t.transports),a=0;a<s.length;a++){var u=s[a],c=u[e];c&&"function"==typeof c&&c.bind(u,t.id?"["+t.id+"]":"","<"+r.methodName+">: ").apply(u,n)}}function r(t,e,r,i){this.id=e,this.format=i,this.transports=r,this.transports||(this.transports=[]),this.level=o[t];for(var s=Object.keys(o),a=0;a<s.length;a++)this[s[a]]=n.bind(null,this,s[a])}var o={trace:0,debug:1,info:2,log:3,warn:4,error:5};r.consoleTransport=console;var i=[r.consoleTransport];r.addGlobalTransport=function(t){-1===i.indexOf(t)&&i.push(t)},r.removeGlobalTransport=function(t){var e=i.indexOf(t);-1!==e&&i.splice(e,1)},r.prototype.setLevel=function(t){this.level=o[t]},t.exports=r,r.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},724:function(t,e,n){"use strict";function r(){window.APP&&"ready"===window.APP.connect.status&&window.APP.connect.handler()}function o(t){t&&console.warn(t),window.XMPPAttachInfo={status:"error"},r()}Object.defineProperty(e,"__esModule",{value:!0});var i=n(485),s=n(131);if("function"==typeof createConnectionExternally){var a=Object(s.a)(window.location,!0,"hash")["config.externalConnectUrl"]||config.externalConnectUrl,u=Object(s.a)(window.location,!0,"hash")["config.iAmRecorder"],c=void 0;if(a&&(c=Object(i.a)())&&!u){a+="?room="+c;var l=Object(s.a)(window.location,!0,"search").jwt;l&&(a+="&token="+l),createConnectionExternally(a,function(t){window.XMPPAttachInfo={status:"success",data:t},r()},o)}else o()}else o()},83:function(t,e,n){function r(t,e){this.logStorage=t,this.stringifyObjects=!(!e||!e.stringifyObjects)&&e.stringifyObjects,this.storeInterval=e&&e.storeInterval?e.storeInterval:3e4,this.maxEntryLength=e&&e.maxEntryLength?e.maxEntryLength:1e4,Object.keys(o.levels).forEach(function(t){this[o.levels[t]]=function(t){this._log.apply(this,arguments)}.bind(this,t)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}var o=n(62);r.prototype.stringify=function(t){try{return JSON.stringify(t)}catch(t){return"[object with circular refs?]"}},r.prototype.formatLogMessage=function(t){for(var e="",n=1,r=arguments.length;n<r;n++){var i=arguments[n];!this.stringifyObjects&&t!==o.levels.ERROR||"object"!=typeof i||(i=this.stringify(i)),e+=i,n!=r-1&&(e+=" ")}return e.length?e:null},r.prototype._log=function(){var t=this.formatLogMessage.apply(this,arguments);if(t){var e=this.queue.length?this.queue[this.queue.length-1]:void 0;("object"==typeof e?e.text:e)==t?"object"==typeof e?e.count+=1:this.queue[this.queue.length-1]={text:t,count:2}:(this.queue.push(t),this.totalLen+=t.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},r.prototype.start=function(){this._reschedulePublishInterval()},r.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},r.prototype.flush=function(){this._flush(!1,!0)},r.prototype._flush=function(t,e){this.totalLen>0&&(this.logStorage.isReady()||t)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(t){this.logStorage.storeLogs(t)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),e&&this._reschedulePublishInterval()},r.prototype.stop=function(){this._flush(!1,!1)},t.exports=r}});
//# sourceMappingURL=do_external_connect.min.map